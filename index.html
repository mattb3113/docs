<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="BuellDocs v4 Professional Paystub Generator - Easily create, calculate, and print professional paystubs.">
    <title>BuellDocs v4 - Professional Paystub Generator</title>
    <!-- Tailwind CSS for modern styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Link to your custom CSS file -->
    <link href="css/main.css" rel="stylesheet">
    <!-- Google Fonts: Inter for a clean, modern look -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Custom styles to complement Tailwind */
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Hide all steps by default */
        .wizard-step {
            display: none;
        }
        /* Show the active step */
        .wizard-step.active {
            display: block;
        }
        /* Print-specific styles */
        @media print {
            body {
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
            }
            .no-print {
                display: none;
            }
            #paystub-preview-container {
                display: block !important;
                width: 100%;
                height: auto;
                box-shadow: none;
                border: none;
            }
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <!-- Main Application Container -->
    <div class="container mx-auto p-4 lg:p-8">

        <!-- Header -->
        <header class="text-center mb-8">
            <h1 class="text-3xl lg:text-4xl font-bold text-gray-900">BuellDocs v4</h1>
            <p class="text-lg text-gray-600 mt-2">Professional Paystub Generator</p>
        </header>

        <!-- Main Content: Wizard and Preview -->
        <main class="grid grid-cols-1 lg:grid-cols-2 gap-8">

            <!-- Wizard Form Section -->
            <div id="wizard-container" class="bg-white p-6 rounded-lg shadow-lg no-print">
                <form id="paystub-form" novalidate>

                    <!-- Step 1: Business & Employee Information -->
                    <section id="step-1" class="wizard-step active">
                        <h2 class="text-2xl font-semibold mb-2">Step 1: Business & Employee</h2>
                        <p class="text-gray-500 mb-6">Enter your company and employee details.</p>

                        <fieldset class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <legend class="sr-only">Business and Employee Information</legend>
                            
                            <!-- Business Information -->
                            <div class="md:col-span-2 font-semibold text-lg text-gray-700 border-b pb-2 mb-2">Business Details</div>
                            <div>
                                <label for="business_name" class="block text-sm font-medium text-gray-700">Business Name</label>
                                <input type="text" id="business_name" name="business_name" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500" placeholder="Your Company LLC" required>
                            </div>
                            <div>
                                <label for="business_address" class="block text-sm font-medium text-gray-700">Business Address</label>
                                <input type="text" id="business_address" name="business_address" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500" placeholder="123 Main St, Anytown, USA">
                            </div>

                            <!-- Employee Information -->
                            <div class="md:col-span-2 font-semibold text-lg text-gray-700 border-b pb-2 mt-4 mb-2">Employee Details</div>
                            <div>
                                <label for="employee_name" class="block text-sm font-medium text-gray-700">Employee Name</label>
                                <input type="text" id="employee_name" name="employee_name" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500" placeholder="John Doe" required>
                            </div>
                            <div>
                                <label for="employee_address" class="block text-sm font-medium text-gray-700">Employee Address</label>
                                <input type="text" id="employee_address" name="employee_address" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500" placeholder="456 Residential Ave">
                            </div>
                            <div>
                                <label for="employee_ssn" class="block text-sm font-medium text-gray-700">SSN (Last 4)</label>
                                <input type="text" id="employee_ssn" name="employee_ssn" placeholder="XXX-XX-1234" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                            </div>
                             <div>
                                <label for="employee_id" class="block text-sm font-medium text-gray-700">Employee ID</label>
                                <input type="text" id="employee_id" name="employee_id" placeholder="EMP-1001" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                            </div>
                        </fieldset>
                    </section>
                    
                    <!-- Step 2: Pay Period & Income -->
                    <section id="step-2" class="wizard-step">
                        <h2 class="text-2xl font-semibold mb-2">Step 2: Pay Period & Income</h2>
                        <p class="text-gray-500 mb-6">Define the pay schedule and earnings.</p>

                        <fieldset class="grid grid-cols-1 md:grid-cols-2 gap-4">
                             <legend class="sr-only">Pay Period and Income</legend>

                             <div class="md:col-span-2 font-semibold text-lg text-gray-700 border-b pb-2 mb-2">Pay Period</div>
                             <div>
                                <label for="pay_period_start" class="block text-sm font-medium text-gray-700">Pay Period Start</label>
                                <input type="date" id="pay_period_start" name="pay_period_start" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500" required>
                             </div>
                             <div>
                                <label for="pay_date" class="block text-sm font-medium text-gray-700">Pay Date</label>
                                <input type="date" id="pay_date" name="pay_date" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500" required>
                            </div>

                            <div class="md:col-span-2 font-semibold text-lg text-gray-700 border-b pb-2 mt-4 mb-2">Earnings</div>
                            <div>
                                <label for="regular_rate" class="block text-sm font-medium text-gray-700">Regular Rate ($)</label>
                                <input type="number" id="regular_rate" name="regular_rate" step="0.01" min="0" placeholder="25.00" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500" required>
                             </div>
                             <div>
                                <label for="regular_hours" class="block text-sm font-medium text-gray-700">Regular Hours</label>
                                <input type="number" id="regular_hours" name="regular_hours" step="0.01" min="0" placeholder="40" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500" required>
                             </div>
                             <div>
                                <label for="overtime_rate" class="block text-sm font-medium text-gray-700">Overtime Rate ($)</label>
                                <input type="number" id="overtime_rate" name="overtime_rate" step="0.01" min="0" placeholder="37.50" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                             </div>
                             <div>
                                <label for="overtime_hours" class="block text-sm font-medium text-gray-700">Overtime Hours</label>
                                <input type="number" id="overtime_hours" name="overtime_hours" step="0.01" min="0" placeholder="0" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                             </div>
                        </fieldset>
                    </section>

                    <!-- Step 3: Deductions & Taxes -->
                    <section id="step-3" class="wizard-step">
                        <h2 class="text-2xl font-semibold mb-2">Step 3: Deductions & Taxes</h2>
                        <p class="text-gray-500 mb-6">Specify taxes and other deductions.</p>

                        <fieldset class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <legend class="sr-only">Deductions and Taxes</legend>

                             <div class="md:col-span-2 font-semibold text-lg text-gray-700 border-b pb-2 mb-2">Federal & State Taxes</div>
                            <div>
                                <label for="federal_tax" class="block text-sm font-medium text-gray-700">Federal Tax Withholding ($)</label>
                                <input type="number" id="federal_tax" name="federal_tax" step="0.01" min="0" placeholder="150.00" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                             </div>
                             <div>
                                <label for="state_tax" class="block text-sm font-medium text-gray-700">State Tax Withholding ($)</label>
                                <input type="number" id="state_tax" name="state_tax" step="0.01" min="0" placeholder="50.00" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                             </div>
                             <div class="md:col-span-2">
                                <label for="filing_status" class="block text-sm font-medium text-gray-700">Tax Filing Status</label>
                                <select id="filing_status" name="filing_status" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                                    <option>Single</option>
                                    <option>Married filing jointly</option>
                                    <option>Married filing separately</option>
                                    <option>Head of Household</option>
                                </select>
                             </div>

                             <div class="md:col-span-2 font-semibold text-lg text-gray-700 border-b pb-2 mt-4 mb-2">Other Deductions</div>
                             <div>
                                <label for="deduction_name_1" class="block text-sm font-medium text-gray-700">Deduction Name</label>
                                <input type="text" id="deduction_name_1" name="deduction_name_1" placeholder="Health Insurance" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                             </div>
                             <div>
                                <label for="deduction_amount_1" class="block text-sm font-medium text-gray-700">Deduction Amount ($)</label>
                                <input type="number" id="deduction_amount_1" name="deduction_amount_1" step="0.01" min="0" placeholder="75.00" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                             </div>
                        </fieldset>
                    </section>

                    <!-- Step 4: Review & Finalize -->
                    <section id="step-4" class="wizard-step">
                        <h2 class="text-2xl font-semibold mb-2">Step 4: Review & Finalize</h2>
                        <p class="text-gray-500 mb-6">Review the details below. When you're ready, generate the paystub.</p>
                        <!-- Summary content will be injected here by JS -->
                        <div id="review-summary" class="space-y-4 text-gray-800">
                            <p>Please review the paystub preview on the right. If everything is correct, you can download it as a PDF.</p>
                        </div>
                    </section>
                    
                    <!-- Wizard Navigation -->
                    <div id="wizard-navigation" class="mt-8 pt-5 border-t border-gray-200 flex justify-between items-center">
                        <button type="button" id="back-btn" class="bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-2 px-4 rounded-md transition-colors duration-300 disabled:opacity-50" disabled>Back</button>
                        <div id="step-indicator" class="text-sm text-gray-500">Step 1 of 4</div>
                        <button type="button" id="next-btn" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-md transition-colors duration-300">Next</button>
                        <button type="button" id="finish-btn" class="bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-md transition-colors duration-300 hidden">Generate PDF</button>
                    </div>

                </form>
            </div>

            <!-- Paystub Preview Section -->
            <div id="paystub-preview-container" class="bg-white p-6 rounded-lg shadow-lg">
                 <h2 class="text-2xl font-semibold mb-6 text-center no-print">Live Preview</h2>
                 <!-- The preview will be rendered inside this div -->
                 <div id="paystub-preview" class="w-full h-full border border-gray-200 rounded-md p-4 min-h-[600px]">
                    <!-- This will be dynamically populated -->
                    <div class="text-center text-gray-400 flex items-center justify-center h-full">
                        <p>Paystub preview will appear here...</p>
                    </div>
                 </div>
            </div>

        </main>
        
        <!-- Footer -->
        <footer class="text-center mt-12 py-4 border-t border-gray-200 no-print">
            <p class="text-sm text-gray-600">&copy; <span id="current-year"></span> BuellDocs. All Rights Reserved.</p>
        </footer>

    </div>

    <!-- Main Application Logic -->
    <script type="module" src="js/app.js" defer></script>
</body>
</html>
