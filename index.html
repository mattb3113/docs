<!DOCTYPE html>
<html lang="en" class="bg-gray-50">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>New Jersey Paystub Generator</title>

    <!-- Tailwind CSS via CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Custom Stylesheets -->
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="print.css">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <script>
        // Custom Tailwind theme configuration
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                }
            }
        }
    </script>
</head>
<body class="font-sans antialiased text-gray-800">

    <div class="container mx-auto p-4 lg:p-8">
        <header class="text-center mb-8">
            <h1 class="text-3xl lg:text-4xl font-bold text-gray-900">New Jersey Paystub Generator</h1>
            <p class="text-lg text-gray-600 mt-2">Create accurate, professional paystubs in minutes.</p>
        </header>

        <main class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            <!-- Form Section -->
            <div class="bg-white p-6 rounded-lg shadow-md border border-gray-200">
                <form id="paystub-form" class="space-y-6">
                    <!-- Company Information -->
                    <fieldset class="space-y-4">
                        <legend class="text-xl font-semibold border-b pb-2 mb-4 text-gray-700">Company Information</legend>
                        <div>
                            <label for="company-name" class="block text-sm font-medium text-gray-700">Company Name</label>
                            <input type="text" id="company-name" name="companyName" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" placeholder="Your Company LLC" required>
                        </div>
                        <div>
                            <label for="company-address" class="block text-sm font-medium text-gray-700">Company Address</label>
                            <input type="text" id="company-address" name="companyAddress" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" placeholder="123 Main St, Newark, NJ 07102" required>
                        </div>
                    </fieldset>

                    <!-- Employee Information -->
                    <fieldset class="space-y-4">
                        <legend class="text-xl font-semibold border-b pb-2 mb-4 text-gray-700">Employee Information</legend>
                        <div>
                            <label for="employee-name" class="block text-sm font-medium text-gray-700">Employee Name</label>
                            <input type="text" id="employee-name" name="employeeName" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" placeholder="John Doe" required>
                        </div>
                        <div>
                            <label for="employee-address" class="block text-sm font-medium text-gray-700">Employee Address</label>
                            <input type="text" id="employee-address" name="employeeAddress" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" placeholder="456 Market St, Paterson, NJ 07505" required>
                        </div>
                         <div>
                            <label for="employee-id" class="block text-sm font-medium text-gray-700">Employee ID / SSN (Optional)</label>
                            <input type="text" id="employee-id" name="employeeId" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" placeholder="XXX-XX-1234">
                        </div>
                    </fieldset>

                     <!-- Pay Period & Payday -->
                    <fieldset class="space-y-4">
                        <legend class="text-xl font-semibold border-b pb-2 mb-4 text-gray-700">Pay Period & Payday</legend>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label for="pay-period-start" class="block text-sm font-medium text-gray-700">Pay Period Start</label>
                                <input type="date" id="pay-period-start" name="payPeriodStart" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" required>
                            </div>
                            <div>
                                <label for="pay-period-end" class="block text-sm font-medium text-gray-700">Pay Period End</label>
                                <input type="date" id="pay-period-end" name="payPeriodEnd" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" required>
                            </div>
                        </div>
                        <div>
                            <label for="pay-date" class="block text-sm font-medium text-gray-700">Pay Date</label>
                            <input type="date" id="pay-date" name="payDate" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" required>
                        </div>
                    </fieldset>

                    <!-- Earnings -->
                    <fieldset class="space-y-4">
                        <legend class="text-xl font-semibold border-b pb-2 mb-4 text-gray-700">Earnings</legend>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label for="regular-rate" class="block text-sm font-medium text-gray-700">Regular Rate ($)</label>
                                <input type="number" id="regular-rate" name="regularRate" step="0.01" min="0" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" placeholder="25.00">
                            </div>
                             <div>
                                <label for="regular-hours" class="block text-sm font-medium text-gray-700">Regular Hours</label>
                                <input type="number" id="regular-hours" name="regularHours" step="0.01" min="0" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" placeholder="80">
                            </div>
                        </div>
                         <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label for="overtime-rate" class="block text-sm font-medium text-gray-700">Overtime Rate ($)</label>
                                <input type="number" id="overtime-rate" name="overtimeRate" step="0.01" min="0" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" placeholder="37.50">
                            </div>
                             <div>
                                <label for="overtime-hours" class="block text-sm font-medium text-gray-700">Overtime Hours</label>
                                <input type="number" id="overtime-hours" name="overtimeHours" step="0.01" min="0" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" placeholder="10">
                            </div>
                        </div>
                        <div>
                            <label for="bonus" class="block text-sm font-medium text-gray-700">Bonus ($)</label>
                            <input type="number" id="bonus" name="bonus" step="0.01" min="0" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" placeholder="500.00">
                        </div>
                    </fieldset>

                    <!-- Tax Withholding Information -->
                    <fieldset class="space-y-4">
                        <legend class="text-xl font-semibold border-b pb-2 mb-4 text-gray-700">Tax Withholding</legend>
                         <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label for="federal-filing-status" class="block text-sm font-medium text-gray-700">Federal Filing Status</label>
                                <select id="federal-filing-status" name="federalFilingStatus" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                                    <option value="single">Single or Married Filing Separately</option>
                                    <option value="married">Married Filing Jointly</option>
                                    <option value="head_of_household">Head of Household</option>
                                </select>
                            </div>
                            <div>
                                <label for="federal-allowances" class="block text-sm font-medium text-gray-700">Federal Allowances</label>
                                <input type="number" id="federal-allowances" name="federalAllowances" min="0" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" placeholder="2" value="2">
                            </div>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label for="nj-filing-status" class="block text-sm font-medium text-gray-700">NJ Filing Status</label>
                                <select id="nj-filing-status" name="njFilingStatus" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                                    <option value="A">Rate A (Single)</option>
                                    <option value="B">Rate B (Married/CU Partner Separate)</option>
                                    <option value="C">Rate C (Married/CU Partner Joint)</option>
                                    <option value="D">Rate D (Head of Household)</option>
                                    <option value="E">Rate E (Surviving Spouse/CU Partner)</option>
                                </select>
                            </div>
                             <div>
                                <label for="nj-allowances" class="block text-sm font-medium text-gray-700">NJ Allowances</label>
                                <input type="number" id="nj-allowances" name="njAllowances" min="0" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" placeholder="2" value="2">
                            </div>
                        </div>
                    </fieldset>


                    <!-- Buttons -->
                    <div class="flex items-center justify-end space-x-4 pt-4">
                         <button type="submit" id="generate-button" class="inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                            Generate Paystub
                        </button>
                    </div>
                </form>
            </div>

            <!-- Preview Section -->
            <div class="bg-white p-6 rounded-lg shadow-md border border-gray-200 h-full">
                <h2 class="text-xl font-semibold border-b pb-2 mb-4 text-gray-700">Preview</h2>
                <div id="paystub-preview-container">
                    <!-- The generated paystub will be injected here -->
                    <div class="text-center text-gray-500 py-20">
                        <p>Your paystub preview will appear here once generated.</p>
                    </div>
                </div>
                 <div class="text-center mt-6">
                    <button id="download-pdf-button" class="hidden inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500">
                        Download as PDF
                    </button>
                </div>
            </div>
        </main>
    </div>

    <!-- JavaScript Libraries & Custom Scripts -->
    <!-- html2pdf.js for PDF generation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js" xintegrity="sha512-GsLlZN/3F2ErC5ifS5QtgpiJtWd43JWSuIgh7mbzZ8zBps+dvLusV+eNQATqgA/HdeKFVgA5v3S/cIrLF7QnIg==" crossorigin="anonymous" referrerpolicy="no-referrer" defer></script>
    
    <!-- Local Application Scripts -->
    <script src="js/precisionMath.js" defer></script>
    <script src="js/data-service.js" defer></script>
    <script src="js/paystub-calculator.js" defer></script>
    <script src="main.js" defer></script>

</body>
</html>
